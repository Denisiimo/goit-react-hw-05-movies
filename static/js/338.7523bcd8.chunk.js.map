{"version":3,"file":"static/js/338.7523bcd8.chunk.js","mappings":"oRAGMA,EAAU,mCAGVC,EAAe,QAIrBC,EAAAA,EAAAA,SAAAA,QARiB,gCASjB,IAAMC,EAAY,SAAAC,GAAI,OAAIF,EAAAA,EAAAA,IAAUE,GAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,IAAI,GAAE,EAE/CC,EAAqB,WAAH,OAC7BL,EAAU,GAADM,OAVW,gBAUM,aAAAA,OAAYT,GAAW,EAEtCU,EAAqB,SAAHC,GAAA,IAAAC,EAAAD,EAAME,MAAAA,OAAK,IAAAD,EAAG,WAAUA,EAAAE,EAAAH,EAAEI,KAAAA,OAAI,IAAAD,EAAG,EAACA,EAAA,OAC/DX,EAAU,GAADM,OAZQ,eAYM,aAAAA,OAAYT,EAAO,WAAAS,OAAUI,EAAK,KAAAJ,OAAIM,GAAQ,EAE1DC,EAAmB,SAAAC,GAAO,OACrCd,EAAU,GAADM,OAAIR,EAAY,KAAAQ,OAAIQ,EAAO,aAAAR,OAAYT,GAAW,EAEhDkB,EAAgB,SAAAD,GAAO,OAClCd,EAAU,GAADM,OACJR,EAAY,KAAAQ,OAAIQ,EAAO,KAAAR,OAjBT,UAiByB,aAAAA,OAAYT,IACtDK,MAAK,SAAAC,GAAC,OAAIA,EAAEa,KAAKC,MAAM,EAAG,GAAG,GAAE,EAEtBC,EAAmB,SAAAJ,GAAO,OACrCd,EAAU,GAADM,OACJR,EAAY,KAAAQ,OAAIQ,EAAO,KAAAR,OArBT,UAqByB,aAAAA,OAAYT,IACtDK,MAAK,SAAAC,GAAC,OAAIA,EAAEgB,QAAQF,MAAM,EAAG,GAAG,GAAE,C,6EC1BhCG,GAAaC,EAAAA,EAAAA,OAAK,kBAAM,4BAAkC,IAC1DC,GAAYD,EAAAA,EAAAA,OAAK,kBAAM,4BAAgC,IAqD7D,UAnDoB,WAClB,IAAAE,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAlDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GACpCI,GAAsCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAA3CG,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAAoCJ,EAAAA,EAAAA,UAAS,GAAEK,GAAAT,EAAAA,EAAAA,GAAAQ,EAAA,GAAxCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAAgCR,EAAAA,EAAAA,UAAS,IAAGS,GAAAb,EAAAA,EAAAA,GAAAY,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAEtBG,EAAcf,EAAagB,IAAI,UAAY,GAC3CC,EAAaC,SAASlB,EAAagB,IAAI,SAAW,GAEpDD,IAAgBV,GAAaC,EAAeS,GAC5CE,IAAeR,GAAYC,EAAcO,IAE7CE,EAAAA,EAAAA,YAAU,WACY,KAAhBd,EAAoBS,EAAY,CAAC,IAEnClC,EAAAA,EAAAA,IAAmB,CAAEG,MAAOsB,EAAapB,KAAMwB,IAAclC,KAC3DuC,EAEN,GAAG,CAACT,EAAaI,IAEjB,IAAMW,EAAW,SAAAC,GACd,OAADA,QAAC,IAADA,GAAAA,EAAGC,iBACH,IAAMC,EAAcC,OAAOH,EAAEI,cAAc1C,MAAM2C,OAAOC,OAEpC,KAAhBJ,GAAoBtB,EAAgB,CAAElB,MAAOwC,EAAatC,KAAM,GACtE,EAEA,OAAK4B,EAASe,eAUZC,SAASC,MAAK,kBAAAnD,OAAqB0B,IAGjC0B,EAAAA,EAAAA,MAACC,EAAAA,SAAQ,CAACC,UAAUC,EAAAA,EAAAA,KAAA,KAAAC,SAAG,eAAeA,SAAA,EACpCD,EAAAA,EAAAA,KAACzC,EAAU,CAAC2C,gBAAiBhB,KAC7Bc,EAAAA,EAAAA,KAACvC,EAAS,CACRkB,SAAUA,EACVwB,MAAO,CAAEC,KAAK,iBAAD3D,OAAmB0B,GAAekC,QAAS,WAhB9DV,SAASC,MAAQ,gBAGfC,EAAAA,EAAAA,MAACC,EAAAA,SAAQ,CAACC,UAAUC,EAAAA,EAAAA,KAAA,KAAAC,SAAG,eAAeA,SAAA,EACpCD,EAAAA,EAAAA,KAACzC,EAAU,CAAC2C,gBAAiBhB,IACA,KAApB,OAARP,QAAQ,IAARA,OAAQ,EAARA,EAAUe,iBAAuBM,EAAAA,EAAAA,KAAA,KAAAC,SAAG,qBAgB7C,C","sources":["api/fethcFilms.js","components/SearchMovie/searchMovie.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '964aa706dab4c3295b22f686e0c720cc';\nconst PATH_TRENDING = 'movie/popular';\nconst PATH_MOVIE = 'search/movie';\nconst PATH_DETAILS = 'movie';\nconst PATH_CREDITS = 'credits';\nconst PATH_REVIEWS = 'reviews';\n\naxios.defaults.baseURL = BASE_URL;\nconst fetchPath = path => axios.get(path).then(r => r.data);\n\nexport const fetchTrendingFilms = () =>\n  fetchPath(`${PATH_TRENDING}?api_key=${API_KEY}`);\n\nexport const fetchSearchedFilms = ({ query = 'trending', page = 1 }) =>\n  fetchPath(`${PATH_MOVIE}?api_key=${API_KEY}&query=${query}&${page}`);\n\nexport const fetchFilmDetails = movieId =>\n  fetchPath(`${PATH_DETAILS}/${movieId}?api_key=${API_KEY}`);\n\nexport const fetchFilmCast = movieId =>\n  fetchPath(\n    `${PATH_DETAILS}/${movieId}/${PATH_CREDITS}?api_key=${API_KEY}`\n  ).then(r => r.cast.slice(0, 10));\n\nexport const fetchFilmReviews = movieId =>\n  fetchPath(\n    `${PATH_DETAILS}/${movieId}/${PATH_REVIEWS}?api_key=${API_KEY}`\n  ).then(r => r.results.slice(0, 10));\n","import { lazy, Suspense, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearchedFilms } from 'api/fethcFilms';\n\nconst SearchForm = lazy(() => import('../SearchForm/searchForm'));\nconst MovieList = lazy(() => import('../MovieList/movieList'));\n\nconst SearchMovie = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchPage, setSearchPage] = useState(1);\n  const [filmList, setFilmList] = useState([]);\n\n  const paramsQuery = searchParams.get('query') || '';\n  const paramsPage = parseInt(searchParams.get('page') || 1);\n\n  if (paramsQuery !== searchQuery) setSearchQuery(paramsQuery);\n  if (paramsPage !== searchPage) setSearchPage(paramsPage);\n\n  useEffect(() => {\n    if (searchQuery === '') setFilmList({});\n    else\n      fetchSearchedFilms({ query: searchQuery, page: searchPage }).then(\n        setFilmList\n      );\n  }, [searchQuery, searchPage]);\n\n  const onSubmit = e => {\n    e?.preventDefault();\n    const searchValue = String(e.currentTarget.query.value).trim();\n\n    if (searchValue !== '') setSearchParams({ query: searchValue, page: 1 });\n  };\n\n  if (!filmList.total_results) {\n    document.title = 'Movie search';\n\n    return (\n      <Suspense fallback={<p>Loading...</p>}>\n        <SearchForm onSubmitHandler={onSubmit} />\n        {filmList?.total_results === 0 && <p>Nothing found</p>}\n      </Suspense>\n    );\n  } else {\n    document.title = `Movie search - ${searchQuery}`;\n\n    return (\n      <Suspense fallback={<p>Loading...</p>}>\n        <SearchForm onSubmitHandler={onSubmit} />\n        <MovieList\n          filmList={filmList}\n          state={{ from: `/movies?query=${searchQuery}`, addPath: '' }}\n        />\n      </Suspense>\n    );\n  }\n};\n\nexport default SearchMovie;\n"],"names":["API_KEY","PATH_DETAILS","axios","fetchPath","path","then","r","data","fetchTrendingFilms","concat","fetchSearchedFilms","_ref","_ref$query","query","_ref$page","page","fetchFilmDetails","movieId","fetchFilmCast","cast","slice","fetchFilmReviews","results","SearchForm","lazy","MovieList","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","_useState","useState","_useState2","searchQuery","setSearchQuery","_useState3","_useState4","searchPage","setSearchPage","_useState5","_useState6","filmList","setFilmList","paramsQuery","get","paramsPage","parseInt","useEffect","onSubmit","e","preventDefault","searchValue","String","currentTarget","value","trim","total_results","document","title","_jsxs","Suspense","fallback","_jsx","children","onSubmitHandler","state","from","addPath"],"sourceRoot":""}